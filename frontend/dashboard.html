<!DOCTYPE html>
<html>

<head>
    <title>Redirecting... | Niners.uz</title>
    <script>
        // Smart Redirector for Niners.uz
        // This file exists to handle legacy links and browser cache 
        // that still point to /dashboard.html instead of role-specific pages.

        (function () {
            const role = localStorage.getItem('role');
            const token = localStorage.getItem('token');

            if (!token) {
                window.location.href = 'login.html';
                return;
            }

            if (role) {
                // Redirect to the new decentralized path
                window.location.href = `pages/${role}/dashboard.html`;
            } else {
                // Fallback if role is missing but token exists
                window.location.href = 'login.html';
            }
        })();
    </script>
</head>

<body
    style="font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; background: #f8f9fa;">
    <div style="text-align: center;">
        <p>Redirecting to your dashboard...</p>
        <div
            style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #FFA500; border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto;">
        </div>
    </div>
    <style>
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</body>

</html>